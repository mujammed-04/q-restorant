<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Welcome Page</title>
  <script src="javascript.js"></script>
  <link rel="stylesheet" href="home.css">
</head>
<body>
  <!-- Welcome Section -->
  <div class="welcome-container">
    <div class="nav">
      <img src="images/logo1.svg" alt="QRestaurant Logo" class="logo">
      <!-- Conditional Buttons Based on Authorization -->
      <div id="auth-buttons">
        <!-- Default Buttons (will be shown if not authorized) -->
        <button id="sign-in-button" class="auth-button">Sign In</button>
        <button id="sign-up-button" class="auth-button">Sign Up</button>
        <!-- Buttons for authorized users -->
        <button id="create-qr-button" class="auth-button" style="display: none;">Create my QR</button>
        <button id="log-out-button" class="auth-button" style="display: none;">Log Out</button>
      </div>
    </div>
    <h1>Welcome to Partners and Users</h1>
    <p>All brands of restaurants in Kazakhstan in one website</p>
  </div>

  <!-- Description Section -->
  <div class="description">
    <h1>Welcome to <br> Partners and Users</h1>
    <p>
      Frezmeal provides freshly sourced vegetarian <br>
      pre-made recipe kits of different cuisines at your <br>
      doorstep. We source everything from the farms <br>
      and our chefs prepare different recipes ensuring <br>
      nutrition, portion, and quality.
    </p>
    <h1 class="restaurants">Restaurants</h1>
  </div>

  <!-- Slider -->
  <div class="slider-container">
    <button class="prev-btn">❮</button>
    <div class="slider">
      <!-- Cards go here -->
    </div>
    <button class="next-btn">❯</button>
  </div>
  <script src="slider.js"></script>

  <!-- email -->
  <div class="email_container">
    <h1>Get Your QR</h1>
    <p>
      We will send you a link, open it on your phone <br>
      to download the QR
    </p>
  </div>
  <div class="group">
    <input type="text" class="form-group" placeholder="email">
    <button class="form-group2">
        Share
    </button>
  </div>

  <!-- Map Section -->
  <div class="map-container">
    <h2>Find Us Here</h2>
    <iframe 
      src="https://www.google.com/maps/embed?pb=..." 
      width="100%" height="300" style="border:0;" 
      allowfullscreen="" loading="lazy" 
      referrerpolicy="no-referrer-when-downgrade">
    </iframe>
  </div>

  <!-- Footer -->
  <div class="footer_container">
    <img src="images/logo1.svg" alt="">
    <hr class="hr">
    <h3>Who We Are</h3>
    <hr class="hr">
    <h3>Work With Us</h3>
    <hr class="hr">
    <h3>Scan QR</h3>
    <hr class="hr">
    <h3>Contact Us</h3>
    <hr class="hr">
    <div class="img">
        <img src="images/whatsup.svg" alt="">
        <img src="images/instagram.svg" alt="">
    </div>
    <div class="author">
        <h5>Bekzhan Sergaliev</h5>
        <h5>QRestaurant</h5>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Simulate user authorization (change to actual login status check)
      const userAuthorized = localStorage.getItem('userAuthorized'); // Example check from localStorage

      // Get buttons
      const signInButton = document.getElementById('sign-in-button');
      const signUpButton = document.getElementById('sign-up-button');
      const createQrButton = document.getElementById('create-qr-button');
      const logOutButton = document.getElementById('log-out-button');

      if (userAuthorized === 'true') {
        // Show authorized buttons and hide unauthorized ones
        createQrButton.style.display = 'inline-block';
        logOutButton.style.display = 'inline-block';
        signInButton.style.display = 'none';
        signUpButton.style.display = 'none';
      } else {
        // Show sign-in and sign-up buttons
        createQrButton.style.display = 'none';
        logOutButton.style.display = 'none';
        signInButton.style.display = 'inline-block';
        signUpButton.style.display = 'inline-block';
      }

      // Event listener for log-out button
      logOutButton.addEventListener('click', () => {
        localStorage.removeItem('userAuthorized');
        location.reload(); // Refresh to show sign-in/signup buttons
      });

      // Event listeners for sign-in and sign-up buttons
      signInButton.addEventListener('click', () => {
        // Redirect to sign-in page or show sign-in form
        window.location.href = 'signin.html';
      });

      signUpButton.addEventListener('click', () => {
        // Redirect to sign-up page or show sign-up form
        window.location.href = 'signup.html';
      });

      // Event listener for create-qr button
      createQrButton.addEventListener('click', () => {
        // Redirect to QR creation page
        window.location.href = 'QRPage.html';
      });
    });
  </script>
</body>
</html>
